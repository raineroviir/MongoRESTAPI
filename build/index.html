<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Client Side</title>
</head>
<body data-ng-app="commentsApp">
  <main data-ng-controller="commentsController" data-ng-init="getAll()">
    <h1>Comments:</h1>
    <aside data-ng-if="errors.length">
      <h2>Errors:</h2>
      <ul data-ng-repeat="error in errors">
        <li>{{error.msg}}</li>
      </ul>
      <button data-ng-click="clearErrors()">Clear Errors</button>
    </aside>

    <form name="newcommentForm" data-ng-submit="createNewcomment()">
      <input type="text" required data-ng-model="newcomment.commentBody">
      <button type="submit" data-ng-disabled="newcommentForm.$invalid">Create New comment</button>
    </form> 

    <ul data-ng-repeat="comment in comments">
      <li>{{comment.commentBody}}
          <button data-ng-click="removecomment(comment)">Delete</button>
          <button data-ng-if="!comment.editing" data-ng-click="comment.editing = true">Edit</button> 
          <form name="{{'editing' + comment._id}}" data-ng-if="comment.editing" data-ng-submit="savecomment(comment)">
            <input type="text" data-ng-model="comment.commentBody">
            <button type="submit">Save Changes</button>
            <button data-ng-click="comment.editing=false">Cancel</button> 
          </form> 
      </li>
    </ul>

  </main>
  <script src="bundle.js"></script>
</body>
</html>
